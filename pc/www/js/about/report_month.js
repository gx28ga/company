"use strict";var app=new Vue({el:"#APP",delimiters:["${","}"],data:function data(){return{result:{},pic1:"",pic2:"",total:"",activity1:"",maxCumulativeInvest:{},maxOnceInvest:{},maxInvestFrequency:{},maxRecommendFrequency:{},monthpc:"",yearpc:"",showyear:true,showyear1:true,linkUrl:null,showBigEvent:true,showActivity:true}},mounted:function mounted(){var self=this;this.getUrl();T.getScript("/js/about/geturl.json.js",function(){try{self.linkUrl=result.url}catch(e){}})},methods:{getUrl:function getUrl(){var self=this;var URL=window.location.href.split("?");var year=URL[URL.length-1].slice(0,4);var img=URL[URL.length-1].slice(4,6);var month=URL[URL.length-1].slice(4,6).replace(/^0+/,"");var imgSrc=document.getElementById("number");var fileName=year+month;self.pic1="/images/about/report/"+fileName+"/img1.jpg";self.pic2="/images/about/report/"+fileName+"/img2.jpg";self.mobthpc="/images/about/report/month.png";self.yearpc="/images/about/report/"+year+".png";imgSrc.src="/images/about/report/number"+month+".png";if(year==2015){self.showyear=false;self.showyear1=false;self.yearpc="/images/about/report/2017.png"}if(year==2018&&month==5){self.showActivity=false;self.showyear1=false;console.log(self.showActivity);console.log(self.showyear1)}if(fileName==20182){self.showBigEvent=false}var figure=document.getElementById("figure");var chartData=echarts.init(figure);var zhuce=echarts.init(document.getElementById("figu"));var userAge=document.getElementById("userAge");var chartAge=echarts.init(userAge);var channel=echarts.init(document.getElementById("channel"));chartData.setOption({title:{text:" "},tooltip:{show:false},legend:{data:[""]},grid:{x2:140,y2:80},textStyle:{color:"#fff"},xAxis:{splitLine:{show:false},axisTick:{show:false},axisLabel:{interval:0,formatter:function formatter(value){return value.split("").join("\n")}},axisLine:{lineStyle:{color:"#ff4200",width:1}},data:[]},yAxis:{axisLabel:{formatter:"{value}%"},axisLine:{lineStyle:{color:"#ff4200",width:1}},interval:5,splitLine:{show:false}},series:[{name:"",type:"bar",barWidth:15,itemStyle:{normal:{color:function color(params){var colorList=["#ff4200","#ffa84b","#8ee8ff","#ad5a18","#af8c2e","#2188a2","#365d99","#328d83","#918c3c","#247893"];return colorList[params.dataIndex]}}},label:{normal:{show:true,position:"top",formatter:"{c}%"}},data:[]}]});zhuce.setOption({title:{text:" "},tooltip:{show:false},legend:{data:[""]},grid:{x2:140,y2:80},textStyle:{color:"#fff"},xAxis:{splitLine:{show:false},axisTick:{show:false},axisLabel:{interval:0,formatter:function formatter(value){return value.split("").join("\n")}},axisLine:{lineStyle:{color:"#ff4200",width:1}},data:[]},yAxis:{axisLabel:{formatter:"{value}%"},axisLine:{lineStyle:{color:"#ff4200",width:1}},interval:5,splitLine:{show:false}},series:[{name:"",type:"bar",barWidth:15,itemStyle:{normal:{color:function color(params){var colorList=["#ff4200","#ffa84b","#8ee8ff","#ad5a18","#af8c2e","#2188a2","#365d99","#328d83","#918c3c","#247893"];return colorList[params.dataIndex]}}},label:{normal:{show:true,position:"top",formatter:"{c}%"}},data:[]}]});chartAge.setOption({title:{text:" "},tooltip:{show:false},legend:{data:[""]},grid:{x2:140,y2:80},textStyle:{color:"#fff"},xAxis:{splitLine:{show:false},axisTick:{show:false},axisLabel:{interval:0},axisLine:{lineStyle:{color:"#ff4200",width:1}},data:[]},yAxis:{axisLabel:{formatter:"{value}%"},axisLine:{lineStyle:{color:"#ff4200",width:1}},interval:5,splitLine:{show:false}},series:[{name:"",type:"bar",barWidth:20,itemStyle:{normal:{color:function color(params){var colorList=["#ff4200","#ffa84b","#8ee8ff","#ad5a18","#af8c2e","#2188a2","#365d99","#328d83","#918c3c","#247893"];return colorList[params.dataIndex]}}},label:{normal:{show:true,position:"top",formatter:"{c}%"}},data:[]}]});channel.setOption({title:{show:false},tooltip:{trigger:"item",show:false,formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",bottom:"left",selectedMode:false,icon:"circle",textStyle:{color:function color(params){var colorList=["#fe7634","#ffea5d","#0069cb","#00be6b","#af8c2e","#2188a2","#365d99","#328d83","#918c3c","#247893"];return colorList[params.dataIndex]}},data:[]},series:[{type:"pie",radius:"55%",animation:false,minAngle:2,data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{color:function color(params){var colorList=["#fe7634","#ffea5d","#0069cb","#00be6b","#af8c2e","#2188a2","#365d99","#328d83","#918c3c","#247893"];return colorList[params.dataIndex]},label:{show:true,formatter:"{d}%"},labelLine:{show:true}}}}]});var provinceInvestRankList=[];var provinceNumber=[];var provinceRegisterRankList=[];var provinceRegisterNumber=[];var drOperationInvestClient=[];var drOperationInvestClientNumber=[];var drOperationInvestAge=[];var drOperationInvestAgeNumber=[];T.ajax({url:"/operationReport/getOperationReport.do",data:{year:year,month:month},success:function success(data){self.result=data.map.drOperationReport;self.total=data.map.drOperationReport.cumulativeTurnover*100;self.maxCumulativeInvest=data.map.drOperationReport.drOperationAboutMaxList[0];self.maxOnceInvest=data.map.drOperationReport.drOperationAboutMaxList[1];self.maxInvestFrequency=data.map.drOperationReport.drOperationAboutMaxList[2];self.maxRecommendFrequency=data.map.drOperationReport.drOperationAboutMaxList[3];for(var i=0;i<data.map.drOperationReport.drOperationProvinceInvestRankList.length;i++){provinceInvestRankList.push(data.map.drOperationReport.drOperationProvinceInvestRankList[i].region);provinceNumber.push(data.map.drOperationReport.drOperationProvinceInvestRankList[i].proportion)}for(var j=0;j<data.map.drOperationReport.drOperationProvinceRegisterRankList.length;j++){provinceRegisterRankList.push(data.map.drOperationReport.drOperationProvinceRegisterRankList[j].region);provinceRegisterNumber.push(data.map.drOperationReport.drOperationProvinceRegisterRankList[j].proportion)}for(var k=0;k<data.map.drOperationInvestClientVOList.length;k++){drOperationInvestClient.push(data.map.drOperationInvestClientVOList[k].name);drOperationInvestClientNumber.push(data.map.drOperationInvestClientVOList[k].proportion)}for(var w=0;w<data.map.drOperationReport.drOperationInvestAgeList.length;w++){drOperationInvestAge.push(data.map.drOperationReport.drOperationInvestAgeList[w].age);drOperationInvestAgeNumber.push(data.map.drOperationReport.drOperationInvestAgeList[w].proportion)}chartData.setOption({xAxis:{data:provinceInvestRankList},series:[{data:provinceNumber}]});zhuce.setOption({xAxis:{data:provinceRegisterRankList},series:[{data:provinceRegisterNumber}]});chartAge.setOption({xAxis:{data:drOperationInvestAge},series:[{data:drOperationInvestAgeNumber}]});channel.setOption({legend:{data:drOperationInvestClient},series:[{data:data.map.drOperationInvestClientVOList}]})}})},numFormat:function numFormat(num){var arr=(num+"").split("");arr.reverse();var tmp="";for(var i=1;i<=arr.length;i++){tmp+=arr[i-1];if(i%3==0&&i!=arr.length){tmp+=","}}return tmp.split("").reverse().join("")}}});