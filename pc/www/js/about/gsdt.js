"use strict";var app=new Vue({el:"#APP",delimiters:["${","}"],data:{newsResult:[],page:1,total:0,linkUrl:null},mounted:function mounted(){this.getNews();var self=this;T.getScript("/js/about/geturl.json.js",function(){try{self.linkUrl=result.url}catch(e){}})},methods:{newsContent:function newsContent(obj){var self=this;T.ajax({url:"/newsInformationList",data:obj,success:function success(data){self.newsResult=data.map.page.rows;self.total=data.map.page.total;self.pageChange(obj)}})},getNews:function getNews(){if(localStorage.getItem("url")==undefined){}else{this.page=localStorage.getItem("url")}this.newsContent({pageOn:this.page,pageSize:"10",proId:"1"})},pageChange:function pageChange(obj){var self=this;layui.use(["laypage","layer"],function(){var laypage=layui.laypage;laypage.render({elem:"Page",limit:10,curr:self.page,count:self.total,layout:["prev","page","next","count"],jump:function jump(_obj,first){if(!first){self.page=_obj.curr;obj.pageOn=self.page;self.newsContent(obj);localStorage.setItem("url",self.page)}}})})}}});